
<!--
    Powered by ZeroDream
	https://www.zerodream.top/xiuno.htm
	
	修改文件将有禁止使用帐户风险
-->

<?php include _include(ADMIN_PATH.'view/htm/header.inc.htm');?> <!--{hook admin_plugin_list_start.htm}--> <div class="row"> <div class="col-12"> <div class="row" style="margin-right:0;margin-left:0;"> <div class="col-md-6 text-left" style="overflow:auto;padding-right:0;padding-left:0;"> <div class="btn-group mb-3" role="group"> <!--{hook admin_plugin_list_tab_before.htm}--> <?php echo admin_tab_active($menu['plugin']['tab'], $action);?> <!--{hook admin_plugin_list_tab_after.htm}--> </div> </div> <div class="col-md-6 text-right" style="overflow:auto;padding-right:0;padding-left:0;"> <div class="btn-group mb-3" role="group"> <a role="button" class="btn btn-dark" href="https://www.zerodream.top/xiuno.htm" target="_blank">零梦</a> <?php echo $pugin_cate_html;?> </div> </div> </div> <div class="card"> <div class="card-body"> <div class="form-group"> <div class="search"> <form id="plugin_search"> <div class="input-group"> <input class="form-control" type="text" placeholder="<?php echo !empty($search) ? $search : '关键词';?>" name="search" value="<?php echo !empty($search) ? $search : '';?>" /> <div class="input-group-append"><button class="btn btn-primary" id="submit" type="submit">搜索插件模板</button></div> </div> </form> </div> </div> <div class="table-responsive form-group"> <table class="table"> <?php foreach($pluginlist as $dir=>$plugin) { ?> <?php $plugin['name'] = array_value($plugin, 'name'); $plugin['brief'] = array_value($plugin, 'brief'); $plugin['version_fmt'] = $action == 'local' ? $plugin['version'] : array_value($plugin, 'version_official'); ?> <tr valign="top" dir="<?php echo $dir;?>"> <td width="80" class="text-center"> <a href="<?php echo url("plugin-read-$dir");?>" target="_blank"> <img src="<?php echo $plugin['icon_url'];?>" width="54" height="54" /> </a> </td> <td width="300"> <a href="<?php echo url("plugin-read-$dir");?>"><b><?php echo $plugin['name'];?> </b></a> <span class="small">v<?php echo $plugin['version_fmt'];?></span> <?php if($plugin['have_upgrade']) { ?> <span class="small text-danger font-weight-bold">v<?php echo array_value($plugin, 'version_official');?> </span> <?php } ?> <br /><span class="small text-muted"><?php echo $dir;?></span> <?php if(!empty($plugin['zd_username'])) { ?> <br /><span class="small text-muted"><?php echo lang('author');?>： <a href="<?php echo ZERODREAM_URL.'user-'.$plugin['zd_uid'].'.htm';?>" target="_blank"><?php echo $plugin['zd_username'];?></span></a> <?php } ?> </td> <td> <p class="grey"><?php echo $plugin['brief'];?></p> </td> <td width="250" align="right"> <?php if(isset($plugin['zd_tid'])) { ?> <a role="button" class="btn btn-primary btn-sm zd_pugin_help" href="<?php echo ZERODREAM_URL_THREAD.$plugin['zd_tid'].'.htm';?>" target="_blank" style="background-color:deepskyblue;border-color:deepskyblue;"><?php echo lang('admin_plugin_zd_pugin_help');?></a> <?php } ?> <?php if($action == 'official_fee' && !$plugin['downloaded']) { ?> <a role="button" class="btn btn-primary btn-sm buy" href="<?php echo url("plugin-read-$dir");?>"><?php echo lang('buy');?></a> <?php } ?> <?php if($action == 'official_free' && !$plugin['downloaded']) { ?> <a role="button" class="btn btn-primary btn-sm download" href="<?php echo url("plugin-download-$dir");?>"><?php echo lang('download');?></a> <?php } ?> <?php if($plugin['setting_url']) { ?> <a role="button" class="btn btn-primary btn-sm setting" href="<?php echo url("plugin-setting-$dir");?>"><?php echo lang('setting');?></a> <?php } ?> <?php if(!$plugin['installed'] && $plugin['downloaded']) { ?> <a role="button" class="btn btn-primary btn-sm install" href="<?php echo url("plugin-zerodream_plugin_install-$dir");?>"><?php echo lang('install');?></a> <?php } ?> <?php if($plugin['installed'] && $plugin['enable']) { ?> <a role="button" class="btn btn-secondary btn-sm disable" href="<?php echo url("plugin-disable-$dir");?>"><?php echo lang('disable');?></a> <?php } ?> <?php if($plugin['installed'] && !$plugin['enable']) { ?> <a role="button" class="btn btn-secondary btn-sm enable" href="<?php echo url("plugin-enable-$dir");?>"><?php echo lang('enable');?></a> <?php } ?> <?php if($plugin['installed']) { ?> <a role="button" class="btn btn-danger btn-sm unstall confirm" data-confirm-text="<?php echo lang('plugin_unstall_confirm_tips', array('name'=>$plugin['name']));?>" href="<?php echo url("plugin-unstall-$dir");?>"><?php echo lang('unstall');?></a> <?php } ?> <?php if($plugin['have_upgrade']) { ?> <a role="button" class="btn btn-primary btn-sm upgrade" href="<?php echo url("plugin-upgrade-$dir");?>"><?php echo lang('update');?></a> <?php } ?> </td> </tr> <?php } ?> <?php if(empty($pluginlist)) { ?> <div class="text-center" style="font-size:16px;font-weight:bold;"> <div class="mb-2"> 插件为空 </div> </div> <?php } ?> </table> </div> <!--{hook admin_plugin_list_page_before.htm}--> <?php if($pagination) { ?> <nav><ul class="pagination justify-content-center"><?php echo $pagination;?></ul></nav> <?php } ?> <!--{hook admin_plugin_list_page_after.htm}--> <?php if($interface!=='zerodream') { ?> <div class="form-group text-center"> <div class="mb-2" style="color:red;font-weight:bold;">使用零梦接口，享受更多特权</div> <a role="button" class="btn btn-danger" href="<?php echo url('plugin-interface-zerodream');?>" style="width: 210px;">立即切换</a> </div> <?php } ?> <?php if($search && $interface=='zerodream') { ?> <div class="form-group text-center"> <a role="button" class="btn btn-secondary" href="<?php echo url('plugin-local');?>" style="width: 210px;"> <?php echo lang('back');?> </a> </div> <?php } ?> </div> </div> </div></div> <!--{hook admin_plugin_list_end.htm}--> <?php include _include(ADMIN_PATH.'view/htm/footer.inc.htm');?><script> $('#nav li.nav-item-plugin').addClass('active');</script> <!--{hook admin_plugin_list_js.htm}--> 